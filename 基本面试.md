# 基本的面试 #
--------------------------------
## servlet的生命周期 ##
1. 加载:容器通过类加载器使用servlet类对应的文件加载servlet
2. 创建:通过调用servlet构造函数创建一个servlet对象
3. 初始化:调用init方法初始化
4. 处理客户请求:每当有一个客户请求,容器会创建一个线程来处理客户请求
5. 卸载:调用destroy方法让servlet自己释放其占有的资源

**servlet初始化有两次:1.tomcat启动时候servlet初始化一次  2.首次访问servlet初始化一次**

## 关于转发和重定向的问题 ##
**1.转发:转发为服务器的内部跳转,与web服务器有关  2.重定向:重新定位方位,改变地址栏地址**
### 执行过程 ###
*转发*:首先,客户端发送请求(一个request),服务器找到需要执行的servlet和jsp,执行相关的资源的渲染.然后执行转发时,请求时也是只是在服务器的内部寻找,不会把资源返回到客户端.以上整个执行过程中客户端都没有参加,只有服务器内部执行,并且只有一次请求,一次响应.

*重定向*:客户端发送请求(一个request),服务器接受请求所需要的servlet和jsp.执行重定向,服务器会响应客户端,然后客户端发送新的重定向的地址(请求,另一个request).服务器然后在查找servlet和jsp,响应给客户端对资源进行渲染.
![](https://i.imgur.com/tmMxWgb.png)

**总结区别:**

- 转发是同一个请求,重定向是二次不同的请求
- 转发不改变url,重定向改变url
- 转发是服务器行为,重定向是客户端行为

## 浏览器输入url到服务器响应的过程 ##
1. 浏览器输入url
2. DNS进行域名解析ip得到地址:先查host文件,查浏览器缓存,再找服务器缓存,在寻系统缓存,最后到根服务器缓存.
3. 浏览器和服务器之间建立TCP链接,通过socket发送HTTP请求
4. 服务器响应请求,处理请求,返回数据
5. 客户端收到数据,TCP链接释放,然后加载资源进行页面渲染


## springboot和spring的区别 ##
1. springboot可以建立独立的spring应用程序
2. 内嵌了tomcat这样的服务器
3. 无需要像spring一样搞一堆.xml文件进行配置
4. 自动配置bean


## 实现AOP技术 ##
**主要分为两大类:1.采用动态代理技术,利用截取消息的方式,对该消息进行装饰,以取代原有对象行为的执行. 2.采用静态织入的方式,引入特定的语法创建方面,从而使得编译器可以在编译期间织入有关方面的代码**


## 实现IOC的三种方式 ##
1. 构造函数注入
2. 属性注入
3. 接口注入

## 实现mysql去重的方式##
1.全部数据相同,采用distinct方法
2.部分字段去重,采用group by方法

## IOC比new实例化的好处 ##
松耦合

## mybatis与hibernate的区别 ##
1.半自动与全自动(mybatis需要手写sql语言)
2.hibernate的数据库移植性强
3.入门简单,复杂

## 多态 ##
不同的对象对同一消息做出的不同行为
多态存在的三个必要条件
一、要有继承；
二、要有重写；
三、父类引用指向子类对象。

## 封装 ##
是一种函数接口,对内部实现的细节进行隐藏起来.

## spring cloud ##
总结

最后再来总结一下，上述几个 Spring Cloud 核心组件，在微服务架构中，分别扮演的角色：

Eureka：各个服务启动时，Eureka Client 都会将服务注册到 Eureka Server，并且 Eureka Client 还可以反过来从 Eureka Server 拉取注册表，从而知道其他服务在哪里。  
Ribbon：服务间发起请求的时候，基于 Ribbon 做负载均衡，从一个服务的多台机器中选择一台。  
Feign：基于 Feign 的动态代理机制，根据注解和选择的机器，拼接请求 URL 地址，发起请求。  
Hystrix：发起请求是通过 Hystrix 的线程池来走的，不同的服务走不同的线程池，实现了不同服务调用的隔离，避免了服务雪崩的问题。  
Zuul：如果前端、移动端要调用后端系统，统一从 Zuul 网关进入，由 Zuul 网关转发请求给对应的服务。  
以上就是我们通过一个电商业务场景，阐述了 Spring Cloud 微服务架构几个核心组件的底层原理。

